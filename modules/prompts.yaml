top_modules: |
  你是一个熟悉肝脏代谢逻辑的研究员。
  现在用户将肝脏功能的顶层功能总结为了5个顶层模块：
  1) 营养代谢；
  2) 解毒；
  3) 分泌和合成；
  4) 氮处理与尿素循环；
  5) 激素-神经-免疫信号调控。
  每个模块视为一个计算单元：接收来自环境模块的代谢物输入，在条件语句的控制逻辑下，将代谢物或响应输出到环境模块。
  环境模块提供物质资源池，并为计算单元中的条件语句提供必要的物理和化学环境参数。
  
  你需要生成肝脏顶层功能的描述文档：
  · 包括每个计算单元的输入、详细的控制条件语句、输出，以及环境模块包含的参数。
  · 控制条件语句可以是伪代码形式或自然语言形式。
  · 控制条件必须直接影响输出代谢物。
  · 不允许将顶层模块进一步划分为多个小模块。
  · 生成自然语言形式和json格式两种文档，并保证两者对齐。




build_requirements_yaml: |
  参考需求树案例（车票查询）中的格式，按需求树的形式生成需求yaml文档，需求的根部节点是营养代谢、解毒等，营养代谢下面要逐层描述什么是碳水代谢、脂代谢等等、再往下定义糖原合成、脂肪酸合成等等，每个子需求或者子模块也要定义好输入输出的代谢物和控制条件（这个需求中不需要实现UI），最终构成一个层级结构的需求树。

  具体需求：
  从高粒度（如：碳水代谢）自动向下细化到中粒度（如：糖异生、糖原合成），并生成每个细化粒度（模块函数）的完整输入和输出描述、以及控制条件。
  每个模块包含：
    * 模块名称/功能。
    * 完整的代谢物输入列表。
    * 完整的代谢物输出列表。
    * 模块反应发生的详细控制条件。

  5个最顶层模块包括：营养代谢、解毒、分泌和合成、氮处理与尿素循环、激素-神经-免疫信号调控。
  以下是细化的第二层和第三层（营养代谢中的括号内）：
    · 营养代谢模块由碳水代谢(糖原合成与分解，糖异生)，脂代谢(脂类合成，分解与转运)，氨基酸代谢(氨基酸分解，合成与转运)，能量供应与稳态(有氧呼吸产生ATP，酮体生成，离子与渗透压稳态)组成。
    · 解毒模块也可以叫生物转化模块。由氧化还原和结合两个模块组成。通过氧化，还原，结合反应将有毒物质或药物转化为无毒物质。
    · 合成与分泌模块由胆汁酸合成与分泌，血浆蛋白合成，凝血因子合成组成。	
    · 氮处理与尿素循环主要是通过尿素循环将蛋白质/氨基酸代谢产生的氨转化为无毒的尿素。
    · 激素-神经-免疫信号调控模块由激素信号接收与转导，神经信号整合，免疫信号交互三个模块组成。
  每个模块的输入（代谢物质、环境参数）和输出统一从一个环境模块中拿取和放回。



create_code_from_requirements: |
  根据requirements.yaml需求树文档，严格按照规定的输入、输出和控制条件，从下到上地实现各需求功能，不允许遗漏任何一个需求子模块。
  必须全面覆盖ENV-1、REQ-1、REQ-1-1、REQ-1-1-1、REQ-1-1-2、REQ-1-1-3、REQ-1-2、REQ-1-2-1、REQ-1-2-2、REQ-1-2-3、REQ-1-3、REQ-1-3-1、REQ-1-3-2、REQ-1-4、REQ-1-4-1、REQ-1-4-2、REQ-2、REQ-2-1、REQ-2-2、REQ-3、REQ-3-1、REQ-3-2、REQ-3-3、REQ-4、REQ-4-1、REQ-5、REQ-5-1、REQ-5-2、REQ-5-3。
  并自动构建模拟真实肝脏代谢流（非顺序执行）的python代码，并可视化所有代谢物和激素曲线放在一张图上。生成完整的、可运行的模拟代码文件。
  requirements.yaml:
  {requirements_yaml}


detailed_prompts: |
  继续细化requirements.yaml内容，需要考虑：
  1）信号分子可能会被降解或失活，数量和活性是动态变化的。代谢物也可以做信号分子，和受体或酶结合，调控生物过程。
  2）考虑在能量不足的情况下，代谢过程如何被影响。
  3）必要时，添加更下一层的REQ，直到最细粒度的化学反应。每个子REQ仍需要包含input、output、control_conditions。


build_api_interfaces: |
  根据requirement.yaml新建接口文档，不需要函数的具体实现，但需要列出函数之间的调用。